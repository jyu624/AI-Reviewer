# Phase 3 é›†æˆæµ‹è¯•ä»»åŠ¡æ¸…å• - å¿«é€Ÿå‚è€ƒ

> **å¿«é€ŸæŸ¥çœ‹ç‰ˆæœ¬** | è¯¦ç»†è®¡åˆ’è§: `20251112013000-PHASE3-INTEGRATION-TEST-PLAN.md`

---

## ğŸ“‹ å¿«é€Ÿä»»åŠ¡æ¸…å•

### Day 1: åŸºç¡€é›†æˆæµ‹è¯• â³

**ä¸Šåˆä»»åŠ¡** (4h):
- [ ] åˆ›å»º`src/test/java/top/yumbo/ai/refactor/integration/`ç›®å½•ç»“æ„
- [ ] å‡†å¤‡æµ‹è¯•fixtures (å°å‹æµ‹è¯•é¡¹ç›®)
- [ ] ç¼–å†™`ProjectAnalysisIntegrationTest.java`
  - [ ] æµ‹è¯•ä¸LocalFileSystemAdapteré›†æˆ
  - [ ] æµ‹è¯•ä¸FileCacheAdapteré›†æˆ
  - [ ] æµ‹è¯•ä¸DeepSeekAIAdapteré›†æˆ(WireMock)
- [ ] ç¼–å†™`ReportGenerationIntegrationTest.java`
  - [ ] æµ‹è¯•MarkdownæŠ¥å‘Šç”Ÿæˆ
  - [ ] æµ‹è¯•HTMLæŠ¥å‘Šç”Ÿæˆ
  - [ ] æµ‹è¯•JSONæŠ¥å‘Šç”Ÿæˆ

**ä¸‹åˆä»»åŠ¡** (4h):
- [ ] ç¼–å†™`DomainModelIntegrationTest.java`
  - [ ] Project + SourceFile + AnalysisTaskåä½œ
  - [ ] ReviewReport + AnalysisTaskçŠ¶æ€åŒæ­¥
  - [ ] AnalysisProgress + AnalysisTaskè¿›åº¦è·Ÿè¸ª
- [ ] é…ç½®WireMockæµ‹è¯•
- [ ] è¿è¡Œæµ‹è¯•å¹¶ä¿®å¤é—®é¢˜
- [ ] **ç›®æ ‡**: åŸºç¡€é›†æˆæµ‹è¯•å…¨éƒ¨é€šè¿‡

---

### Day 2: ç«¯åˆ°ç«¯æµ‹è¯• â³

**ä¸Šåˆä»»åŠ¡** (4h):
- [ ] å‡†å¤‡çœŸå®æµ‹è¯•é¡¹ç›®
  - [ ] `test-projects/small-java-project/`
  - [ ] `test-projects/medium-python-project/`
- [ ] ç¼–å†™`CommandLineEndToEndTest.java`
  - [ ] æµ‹è¯•åˆ†æå°å‹é¡¹ç›®
  - [ ] æµ‹è¯•åˆ†æä¸­å‹é¡¹ç›®
  - [ ] æµ‹è¯•å¼‚æ­¥åˆ†ææµç¨‹
  - [ ] æµ‹è¯•é”™è¯¯åœºæ™¯

**ä¸‹åˆä»»åŠ¡** (4h):
- [ ] ç¼–å†™`APIEndToEndTest.java`
  - [ ] æµ‹è¯•åŒæ­¥API
  - [ ] æµ‹è¯•å¼‚æ­¥API
  - [ ] æµ‹è¯•æ‰¹é‡åˆ†æ
- [ ] æµ‹è¯•ç¼“å­˜åŠŸèƒ½
- [ ] æµ‹è¯•å¤šæ ¼å¼æŠ¥å‘Šç”Ÿæˆ
- [ ] **ç›®æ ‡**: ç«¯åˆ°ç«¯åœºæ™¯æµ‹è¯•å…¨éƒ¨é€šè¿‡

---

### Day 3: æ€§èƒ½å’Œé”™è¯¯æµ‹è¯• â³

**ä¸Šåˆä»»åŠ¡** (4h):
- [ ] ç¼–å†™`PerformanceIntegrationTest.java`
  - [ ] å°é¡¹ç›®æ€§èƒ½åŸºå‡† (<30s)
  - [ ] ä¸­é¡¹ç›®æ€§èƒ½åŸºå‡† (<2min)
  - [ ] å¤§é¡¹ç›®æ€§èƒ½åŸºå‡† (<10min)
  - [ ] å¹¶å‘æ€§èƒ½æµ‹è¯•
  - [ ] ç¼“å­˜æ€§èƒ½æµ‹è¯•

**ä¸‹åˆä»»åŠ¡** (4h):
- [ ] ç¼–å†™`ResourceLeakTest.java`
  - [ ] å†…å­˜æ³„æ¼æµ‹è¯•
  - [ ] æ–‡ä»¶å¥æŸ„æ³„æ¼æµ‹è¯•
  - [ ] çº¿ç¨‹æ³„æ¼æµ‹è¯•
- [ ] ç¼–å†™`ErrorHandlingIntegrationTest.java`
  - [ ] AIæœåŠ¡ä¸å¯ç”¨æµ‹è¯•
  - [ ] æ–‡ä»¶ç³»ç»Ÿé”™è¯¯æµ‹è¯•
  - [ ] ç¼“å­˜å¤±è´¥æµ‹è¯•
- [ ] **ç›®æ ‡**: æ€§èƒ½è¾¾æ ‡ï¼Œæ— èµ„æºæ³„æ¼

---

### Day 4: çœŸå®é¡¹ç›®éªŒè¯ â³

**ä¸Šåˆä»»åŠ¡** (3h):
- [ ] ä½¿ç”¨çœŸå®Spring Booté¡¹ç›®æµ‹è¯•
- [ ] ä½¿ç”¨çœŸå®Flaské¡¹ç›®æµ‹è¯•
- [ ] ä½¿ç”¨çœŸå®Reacté¡¹ç›®æµ‹è¯•
- [ ] ä½¿ç”¨æ··åˆè¯­è¨€é¡¹ç›®æµ‹è¯•

**ä¸‹åˆä»»åŠ¡** (3h):
- [ ] ä¿®å¤å‘ç°çš„é—®é¢˜
- [ ] ä¼˜åŒ–æ€§èƒ½ç“¶é¢ˆ
- [ ] ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
- [ ] æ›´æ–°æ–‡æ¡£
- [ ] **ç›®æ ‡**: ç”Ÿæˆå®Œæ•´çš„Phase 3å®ŒæˆæŠ¥å‘Š

---

## ğŸ“Š æµ‹è¯•ç»Ÿè®¡ç›®æ ‡

| ç±»å‹ | ç›®æ ‡æ•°é‡ | å½“å‰å®Œæˆ | é€šè¿‡ç‡ç›®æ ‡ |
|------|----------|----------|------------|
| é›†æˆæµ‹è¯• | 50+ | 0 | â‰¥95% |
| ç«¯åˆ°ç«¯æµ‹è¯• | 15+ | 0 | 100% |
| æ€§èƒ½æµ‹è¯• | 10+ | 0 | 100% |
| **æ€»è®¡** | **75+** | **0** | **â‰¥95%** |

**åŠ ä¸ŠPhase 2çš„270ä¸ªå•å…ƒæµ‹è¯•ï¼Œæœ€ç»ˆå°†æœ‰345+ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼**

---

## ğŸ¯ æ¯æ—¥æ£€æŸ¥ç‚¹

### Day 1 ç»“æŸæ£€æŸ¥
- âœ… åŸºç¡€é›†æˆæµ‹è¯•æ–‡ä»¶å·²åˆ›å»º
- âœ… WireMocké…ç½®æ­£å¸¸å·¥ä½œ
- âœ… è‡³å°‘15ä¸ªé›†æˆæµ‹è¯•é€šè¿‡
- âœ… æ— é˜»å¡æ€§é—®é¢˜

### Day 2 ç»“æŸæ£€æŸ¥
- âœ… ç«¯åˆ°ç«¯æµ‹è¯•æ–‡ä»¶å·²åˆ›å»º
- âœ… æµ‹è¯•é¡¹ç›®å‡†å¤‡å®Œæ¯•
- âœ… æ ¸å¿ƒåœºæ™¯æµ‹è¯•é€šè¿‡
- âœ… è‡³å°‘30ä¸ªæµ‹è¯•é€šè¿‡

### Day 3 ç»“æŸæ£€æŸ¥
- âœ… æ€§èƒ½æµ‹è¯•å®Œæˆ
- âœ… æ‰€æœ‰æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡
- âœ… æ— èµ„æºæ³„æ¼
- âœ… è‡³å°‘50ä¸ªæµ‹è¯•é€šè¿‡

### Day 4 ç»“æŸæ£€æŸ¥
- âœ… çœŸå®é¡¹ç›®éªŒè¯é€šè¿‡
- âœ… æ‰€æœ‰å‘ç°çš„é—®é¢˜å·²ä¿®å¤
- âœ… æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ
- âœ… æ–‡æ¡£æ›´æ–°å®Œæˆ

---

## ğŸš¨ ä¼˜å…ˆçº§æé†’

### å¿…é¡»å®Œæˆ (P0) ğŸ”´
1. âœ… åŸºç¡€é›†æˆæµ‹è¯•
2. âœ… ç«¯åˆ°ç«¯æ ¸å¿ƒåœºæ™¯æµ‹è¯•
3. âœ… æ€§èƒ½åŸºå‡†æµ‹è¯•
4. âœ… èµ„æºæ³„æ¼æµ‹è¯•

### åº”è¯¥å®Œæˆ (P1) ğŸŸ¡
5. âœ… é”™è¯¯å¤„ç†æµ‹è¯•
6. âœ… çœŸå®é¡¹ç›®éªŒè¯
7. âœ… å¹¶å‘æ€§èƒ½æµ‹è¯•

### å¯ä»¥å®Œæˆ (P2) ğŸŸ¢
8. â³ å‹åŠ›æµ‹è¯•
9. â³ é¢å¤–çš„è¾¹ç•Œæµ‹è¯•

---

## ğŸ“ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# åªè¿è¡Œé›†æˆæµ‹è¯•
mvn test -Dtest=*IntegrationTest

# åªè¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•
mvn test -Dtest=*EndToEndTest

# åªè¿è¡Œæ€§èƒ½æµ‹è¯•
mvn test -Dtest=*PerformanceTest

# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆå•å…ƒ+é›†æˆï¼‰
mvn test

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
mvn jacoco:report
```

---

## ğŸ“ æµ‹è¯•æ–‡ä»¶å‘½åè§„èŒƒ

```
*IntegrationTest.java    - é›†æˆæµ‹è¯•
*EndToEndTest.java       - ç«¯åˆ°ç«¯æµ‹è¯•
*PerformanceTest.java    - æ€§èƒ½æµ‹è¯•
```

---

**å¼€å§‹æ—¶é—´**: å¾…å®š  
**é¢„è®¡å®Œæˆ**: 4ä¸ªå·¥ä½œæ—¥  
**å½“å‰çŠ¶æ€**: å¾…å¼€å§‹ â³

**å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹å§ï¼** ğŸš€

